<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plánování cest</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css">
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.9.1/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <!-- Plugin pro dekódování polyliny -->
  <script src="https://unpkg.com/polyline@1.1.0/polyline.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
</head>
<body>
  <!-- Hlavička -->
  <header class="bg-light border-bottom py-2">
    <div class="container-fluid d-flex justify-content-between align-items-center">
      <h1 class="fw-bold">Plánování cest</h1>
      <div id="user-menu-container" class="dropdown"></div>
    </div>
  </header>

  <main class="container-fluid mt-4">
    <div class="row">
      <!-- Levé menu -->
      <aside class="col-md-2 bg-light border-end vh-100">
        <h5 class="fw-bold mt-4 mb-4">Menu</h5>
        <ul class="nav flex-column">
          <li class="nav-item"><a class="nav-link" href="#" id="new-itinerary">Nový itinerář</a></li>
          <li class="nav-item"><a class="nav-link" href="#" id="my-trips">Moje cesty</a></li>
          <li class="nav-item"><a class="nav-link" href="#" id="settings">Nastavení</a></li>
        </ul>
      </aside>

      <!-- Hlavní obsah -->
      <div class="col-md-10">
        <!-- Sekce pro přihlášení -->
        <section id="auth-section">
          <h3>Přihlášení</h3>
          <form id="auth-form" class="row g-3">
            <div class="col-md-6">
              <label for="email" class="form-label">E-mail:</label>
              <input type="email" class="form-control" id="email" placeholder="Zadejte e-mail" required />
            </div>
            <div class="col-md-6">
              <label for="password" class="form-label">Heslo:</label>
              <input type="password" class="form-control" id="password" placeholder="Zadejte heslo" required />
            </div>
            <button type="submit" class="btn btn-primary mt-3">Přihlásit se / Registrovat</button>
          </form>
        </section>

        <!-- Sekce pro mapu -->
        <section id="map-section" style="display: none;">
          <h3>Mapa</h3>
          <form id="places-form" class="row g-3">
            <div class="col-md-8">
              <label for="destination" class="form-label">Destinace:</label>
              <input type="text" class="form-control" id="destination" placeholder="Např. Praha" required>
            </div>
            <div class="col-md-4 d-flex align-items-end">
              <button type="submit" class="btn btn-primary w-100">Vyhledat</button>
            </div>
          </form>
          <div id="map" style="height: 400px; margin-top: 20px; border: 1px solid #ccc;"></div>
          <ul id="places-list" class="list-group mt-4"></ul>
          <div class="mb-3">
            <label for="filter-type" class="form-label">Filtr míst podle typu:</label>
            <select id="filter-type" class="form-select">
              <option value="interesting_places">Památky</option>
              <option value="restaurants">Restaurace</option>
              <option value="museums">Muzea</option>
              <option value="natural">Příroda</option>
            </select>
          </div>
        </section>

        <!-- Sekce pro plánování tras -->
        <section id="directions-section" style="display: none;">
          <h3>Plánování tras</h3>
          <form id="directions-form" class="row g-3">
            <div class="col-md-6">
              <label for="origin" class="form-label">Výchozí bod:</label>
              <input type="text" class="form-control" id="origin" placeholder="Např. Praha" required>
            </div>
            <div class="col-md-6">
              <label for="destination-directions" class="form-label">Cíl trasy:</label>
              <input type="text" class="form-control" id="destination-directions" placeholder="Např. Brno" required>
            </div>
            <div class="col-md-12">
              <button type="submit" class="btn btn-primary w-100">Naplánovat trasu</button>
            </div>
          </form>
          <ul id="directions-list" class="list-group mt-4"></ul>
        </section>

        <!-- Sekce pro detaily itineráře -->
        <section id="itinerary-details-section" style="display: none;">
          <h3>Detaily itineráře</h3>
          <ul id="itinerary-details" class="list-group mt-3">
            <!-- Dynamický obsah itineráře -->
          </ul>
        </section>

        <!-- Sekce pro itineráře -->
        <section id="itineraries-section" style="display: none;">
          <h3>Správa itinerářů</h3>
          <form id="itinerary-form" class="row g-3">
            <div class="col-md-4">
              <input type="text" id="itinerary-name" class="form-control" placeholder="Název itineráře" required />
            </div>
            <div class="col-md-4">
              <input type="date" id="itinerary-date" class="form-control" required />
            </div>
            <div class="col-md-4">
              <input type="text" id="itinerary-destination" class="form-control" placeholder="Destinace" required />
            </div>
            <div class="col-12">
              <button type="button" class="btn btn-success" onclick="App.Itineraries.addItinerary()">Přidat itinerář</button>
              <button type="button" class="btn btn-primary" onclick="App.Itineraries.exportToPDF()">Exportovat do PDF</button>
            </div>
          </form>
          <ul id="itineraries-list" class="list-group mt-3"></ul>
        </section>
      </div>
    </div>
  </main>

  <footer class="bg-light text-center py-3 border-top">
    <p>&copy; 2024 Plánování cest</p>
  </footer>

  <!-- JavaScript -->
  <!-- Axios -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <!-- Bootstrap Bundle (JS) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Leaflet.js JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/places.js"></script>
  <script src="js/directions.js"></script>
  <script src="js/itinerary-details.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
